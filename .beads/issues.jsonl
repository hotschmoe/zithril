{"id":"bd-24d","title":"Chart widget","description":"## Summary\nImplement a Chart widget for rendering line graphs and scatter plots with configurable axes, multiple datasets, and legends.\n\n## Background\nratatui's Chart widget is the most complex data visualization widget, supporting:\n- Line graphs with connected points\n- Scatter plots with individual markers\n- Multiple datasets with different styles\n- X and Y axes with labels and bounds\n- Legends for dataset identification\n\nThis is an epic with subtasks for: Axis rendering, Line dataset, Scatter dataset.\n\n## Requirements\n\n### Data Model\n```zig\npub const Dataset = struct {\n    name: []const u8 = \"\",\n    data: []const [2]f64,  // [[x, y], [x, y], ...]\n    graph_type: enum { line, scatter } = .line,\n    marker: ?u21 = null,  // e.g., '●', '■', '◆'\n    style: Style = .{},\n};\n\npub const Axis = struct {\n    title: []const u8 = \"\",\n    bounds: [2]f64,  // [min, max]\n    labels: []const []const u8 = &.{},\n    style: Style = .{},\n};\n\npub const Chart = struct {\n    datasets: []const Dataset,\n    x_axis: Axis,\n    y_axis: Axis,\n    style: Style = .{},\n    // ... render method\n};\n```\n\n### Coordinate Mapping\n- Transform data coordinates to screen coordinates\n- screen_x = area.x + ((data_x - x_min) / (x_max - x_min)) * area.width\n- screen_y = area.y + area.height - ((data_y - y_min) / (y_max - y_min)) * area.height\n\n### Layout\n```\nY Title\n│\n│     ●───●\n│   ●/     \\●\n│  /         \\\n│ ●           ●\n└──────────────────\n  0  1  2  3  4  5\n      X Title\n```\n\n## Subtasks\n1. **Axis rendering** - X/Y axes with ticks, labels, titles\n2. **Line dataset** - Connect points with lines using line-drawing chars\n3. **Scatter dataset** - Render individual point markers\n\n## Implementation Hints\n- Reserve space for axes before plotting data\n- Use Braille characters for higher resolution (optional)\n- Line drawing: '─', '│', '┌', '┐', '└', '┘', '/', '\\'\n- Consider anti-aliased line rendering with Unicode blocks\n\n## Acceptance Criteria\n- [ ] Render X and Y axes with labels\n- [ ] Plot line datasets with connected points\n- [ ] Plot scatter datasets with markers\n- [ ] Support multiple datasets\n- [ ] Auto-scale axes to data bounds\n- [ ] Custom styling per dataset\n\n## Files to Create/Modify\n- Create: src/widgets/chart.zig\n- Create: src/widgets/chart/axis.zig\n- Create: src/widgets/chart/dataset.zig\n- Modify: src/widgets.zig","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-02T07:15:41.149220269Z","created_by":"hotschmoe","updated_at":"2026-02-02T07:15:41.149220269Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2ke","title":"Sparkline widget","description":"## Summary\nImplement a Sparkline widget for compact inline data visualization, rendering a series of numeric values as vertical bars within a single line of text.\n\n## Background\nratatui provides a Sparkline widget that displays data trends in minimal space. This is commonly used for:\n- CPU/memory usage history\n- Stock price trends\n- Network throughput graphs\n- Any time-series data in dashboards\n\n## Requirements\n\n### Core Functionality\n- Accept a slice of numeric values (f64 or u64)\n- Auto-scale values to fit available height (typically 1-2 rows)\n- Use Unicode block characters for sub-cell resolution: ' ', '▁', '▂', '▃', '▄', '▅', '▆', '▇', '█'\n- Handle empty data gracefully (render nothing or placeholder)\n- Clip data to available width (show most recent N values)\n\n### Configuration Options\n- `data: []const f64` - Values to display\n- `max: ?f64` - Optional explicit maximum (auto-detect if null)\n- `style: Style` - Style for the bars\n- `direction: enum { left_to_right, right_to_left }` - Data flow direction\n\n### Rendering\n- Map each value to a bar height (0-8 levels using block chars)\n- Each bar occupies exactly 1 cell width\n- Values exceeding max should clamp to full bar\n\n## Implementation Hints\n- Block characters: const BARS = [_]u21{ ' ', 0x2581, 0x2582, 0x2583, 0x2584, 0x2585, 0x2586, 0x2587, 0x2588 };\n- Height index = @intFromFloat(@round(normalized_value * 8))\n- See ratatui sparkline.rs for reference\n\n## Acceptance Criteria\n- [ ] Renders data as vertical bars using Unicode blocks\n- [ ] Auto-scales to data range when max not specified\n- [ ] Clips to available width\n- [ ] Supports custom styling\n- [ ] Handles edge cases (empty data, single value, all zeros)\n\n## Files to Create/Modify\n- Create: src/widgets/sparkline.zig\n- Modify: src/widgets.zig (add export)","status":"open","priority":0,"issue_type":"feature","created_at":"2026-02-02T07:14:43.660952683Z","created_by":"hotschmoe","updated_at":"2026-02-02T07:14:43.660952683Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-2zv","title":"BarChart widget","description":"## Summary\nImplement a BarChart widget for displaying datasets as grouped vertical or horizontal bars with labels, values, and optional grouping.\n\n## Background\nratatui's BarChart widget is essential for dashboards displaying comparative data like:\n- System resource usage across processes\n- Sales figures by category\n- Performance metrics comparison\n- Survey results visualization\n\n## Requirements\n\n### Data Model\n```zig\npub const Bar = struct {\n    value: f64,\n    label: []const u8 = \"\",\n    style: Style = .{},\n    value_style: Style = .{},\n};\n\npub const BarGroup = struct {\n    label: []const u8 = \"\",\n    bars: []const Bar,\n};\n\npub const BarChart = struct {\n    groups: []const BarGroup,\n    direction: enum { vertical, horizontal } = .vertical,\n    bar_width: u16 = 1,\n    bar_gap: u16 = 1,\n    group_gap: u16 = 2,\n    max_value: ?f64 = null,  // auto-detect if null\n    show_values: bool = true,\n    label_style: Style = .{},\n    // ... render method\n};\n```\n\n### Vertical Bar Rendering\n```\n   ██      \n   ██  ██  \n   ██  ██  ▄▄\n   ██  ██  ██\n  foo bar baz\n```\n- Bars grow upward from baseline\n- Labels below bars\n- Optional value display above bars\n- Use block characters for sub-cell resolution\n\n### Horizontal Bar Rendering\n```\nfoo ████████████ 75\nbar ██████ 45\nbaz ████████████████ 100\n```\n- Bars grow rightward from labels\n- Values optionally shown at end\n\n### Grouping\nMultiple bars per group with group labels:\n```\n      Q1        Q2\n   ██     ██ ██    \n   ██ ▄▄  ██ ██ ▄▄\n  2024   2025\n```\n\n## Implementation Hints\n- Calculate max value across all groups if not specified\n- Bar height = (value / max) * available_height\n- Use same block chars as Sparkline: '▁▂▃▄▅▆▇█'\n- Handle bar_width > 1 by repeating characters\n- Clip bars that exceed area bounds\n\n## Acceptance Criteria\n- [ ] Single bar rendering with label\n- [ ] Multiple ungrouped bars\n- [ ] Grouped bars with group labels\n- [ ] Vertical and horizontal orientations\n- [ ] Configurable bar width and gaps\n- [ ] Auto-scaling to max value\n- [ ] Value labels (optional)\n- [ ] Custom styling per bar\n\n## Files to Create/Modify\n- Create: src/widgets/bar_chart.zig\n- Modify: src/widgets.zig (add export)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-02-02T07:15:30.283669690Z","created_by":"hotschmoe","updated_at":"2026-02-02T07:15:30.283669690Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-d42","title":"Percentage layout constraint","description":"## Summary\nAdd a Constraint.percentage(n) variant for percentage-based layout allocation, providing a more intuitive API for common layout patterns.\n\n## Background\nratatui supports Constraint::Percentage(n) which allocates n% of available space. zithril can approximate this with ratio(n, 100) but a dedicated percentage constraint is more readable and commonly expected.\n\n## Requirements\n\n### API Design\nAdd to the Constraint union in layout.zig:\n```zig\npub const Constraint = union(enum) {\n    // ... existing variants\n    percentage: u8,  // 0-100, values >100 treated as 100\n    \n    pub fn percentage(n: u8) Constraint {\n        return .{ .percentage = @min(n, 100) };\n    }\n};\n```\n\n### Solver Integration\nIn the layout solver, percentage constraints should:\n1. Be resolved after fixed constraints (length, min) \n2. Calculate: allocated = (available_space * percentage) / 100\n3. Use integer math to avoid floating point\n4. Handle rounding (prefer floor, distribute remainder to flex)\n\n### Edge Cases\n- percentage(0) = 0 cells\n- percentage(100) = all remaining space\n- percentage(50) + percentage(50) = exact split\n- Percentages exceeding 100% total should proportionally scale down\n\n## Implementation Hints\n- Add variant to Constraint union\n- Update layout() solver phases to handle percentage\n- Percentage is like ratio(n, 100) but clearer intent\n- Test with: 25%, 50%, 75%, 100%, mixed with other constraints\n\n## Acceptance Criteria\n- [ ] Constraint.percentage(n) API available\n- [ ] Correctly calculates percentage of available space\n- [ ] Values >100 clamped to 100\n- [ ] Works correctly with other constraint types\n- [ ] Rounding behavior is consistent\n\n## Files to Modify\n- src/layout.zig (add variant, update solver)\n- src/root.zig (export if needed)","status":"open","priority":0,"issue_type":"feature","created_at":"2026-02-02T07:14:58.934243287Z","created_by":"hotschmoe","updated_at":"2026-02-02T07:14:58.934243287Z","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-mlx","title":"Flex alignment modes for layout","description":"## Summary\nAdd a Flex enum to control how excess space is distributed in layouts, enabling CSS Flexbox-like alignment patterns.\n\n## Background\nratatui's Flex enum provides 7 alignment modes for distributing excess space when constraints don't fill the available area. zithril currently only supports \"Legacy\" mode (excess goes to final element).\n\n## Requirements\n\n### Flex Enum\n```zig\npub const Flex = enum {\n    /// Content at start, all excess space at end (default)\n    start,\n    /// Content at end, all excess space at start  \n    end,\n    /// Content centered, excess space split evenly on sides\n    center,\n    /// Space distributed between items, none at edges\n    space_between,\n    /// Equal space around each item (half-space at edges)\n    space_around,\n    /// Equal gaps everywhere including edges\n    space_evenly,\n    /// Legacy: excess space goes to last flex element\n    legacy,\n};\n```\n\n### API Changes\nUpdate layout() signature:\n```zig\npub fn layout(\n    area: Rect,\n    direction: Direction,\n    constraints: []const Constraint,\n    flex: Flex,  // NEW parameter\n) BoundedRects\n```\n\nOr add a Layout struct for builder pattern:\n```zig\nconst Layout = struct {\n    direction: Direction = .vertical,\n    flex: Flex = .start,\n    margin: u16 = 0,\n    \n    pub fn split(self: Layout, area: Rect, constraints: []const Constraint) BoundedRects\n};\n```\n\n### Space Distribution Algorithms\nGiven N items and E excess pixels:\n\n- **start**: items at positions [0..], excess after last item\n- **end**: items at positions [E..], excess before first item  \n- **center**: items at positions [E/2..], excess split on sides\n- **space_between**: gaps = E / (N-1) between items, none at edges\n- **space_around**: gaps = E / N around items, half at edges\n- **space_evenly**: gaps = E / (N+1) everywhere including edges\n\n### Edge Cases\n- Single item: start/end/center all work, space_* = center\n- No excess space: all modes behave identically\n- Fractional gaps: distribute remainder left-to-right\n\n## Implementation Hints\n- Calculate total constraint allocation first\n- excess = available - total_allocated\n- Apply Flex distribution to starting positions\n- Consider making Flex optional with default .start\n\n## Acceptance Criteria\n- [ ] Flex enum with all 7 modes\n- [ ] layout() accepts Flex parameter\n- [ ] Each mode distributes space correctly\n- [ ] Works with both horizontal and vertical directions\n- [ ] Edge cases handled (single item, no excess, overflow)\n\n## Files to Modify\n- src/layout.zig (add Flex enum, update solver)\n- src/frame.zig (update layout method signature)","status":"open","priority":0,"issue_type":"feature","created_at":"2026-02-02T07:15:12.664654543Z","created_by":"hotschmoe","updated_at":"2026-02-02T07:15:12.664654543Z","source_repo":".","compaction_level":0,"original_size":0}
